# Go Shop 操作ガイド

## 📋 はじめに

Go Shop は家族やグループで買い物リストを共有できるFlutterアプリです。
リアルタイム同期により、メンバー間で常に最新の買い物リストを共有できます。

### 主な機能
- **グループでの買い物リスト共有**: 家族や友人と買い物リストを共有
- **リアルタイム同期**: メンバーの変更が瞬時に反映
- **オフライン対応**: ネット接続がなくても利用可能
- **メンバー管理**: 役割に応じた権限管理

---

## 👥 グループ管理の操作手順

### グループを作成する

1. **「グループ」タブをタップ**
   - 画面下部のナビゲーションバーから「グループ」を選択

2. **「+」ボタンをタップ**
   - 画面右下の青い追加ボタンをタップ

3. **グループ情報を入力**
   ```
   グループ名: 例）田中家の買い物
   説明: 例）家族で使う買い物リスト
   ```

4. **「作成」ボタンをタップ**
   - 作成者は自動的に「オーナー」として設定されます

### メンバーを追加する

1. **グループを選択**
   - 追加したいグループをタップして詳細画面へ

2. **「メンバー追加」をタップ**
   - グループ詳細画面のメンバー追加ボタンを選択

3. **メンバー情報を入力**
   ```
   名前: 例）田中太郎
   連絡先: 例）taro@example.com
   役割: メンバー/管理者から選択
   ```

4. **「追加」をタップ**
   - 新しいメンバーがグループに追加されます

### 役割と権限について

| 役割 | グループ削除 | メンバー管理 | リスト編集 | アイテム追加 |
|------|-------------|-------------|-----------|-------------|
| **オーナー** | ✅ | ✅ | ✅ | ✅ |
| **管理者** | ❌ | ✅ | ✅ | ✅ |
| **メンバー** | ❌ | ❌ | ✅ | ✅ |

### グループを削除する

1. **グループを長押し**
   - 削除したいグループを長押しして選択

2. **「削除」を選択**
   - コンテキストメニューから削除を選択

3. **確認ダイアログで「削除」をタップ**
   - ⚠️ オーナーのみがグループを削除できます
   - ⚠️ 削除されたデータは復元できません

---

## 🛒 買い物リストの操作手順

### 買い物アイテムを追加する

1. **「買い物リスト」タブをタップ**
   - 画面下部のナビゲーションバーから選択

2. **「+」ボタンをタップ**
   - 画面右下の青い追加ボタンをタップ

3. **アイテム情報を入力**
   ```
   商品名: 例）牛乳
   数量: 例）2本
   メモ: 例）低脂肪タイプ
   カテゴリ: 例）乳製品
   ```

4. **「追加」をタップ**
   - アイテムがリストに追加されます

### アイテムを購入済みにする

1. **アイテムをタップ**
   - 購入したアイテムをタップして状態を切り替え

2. **購入状態の確認**
   - ✅ 購入済み: 緑色の背景にチェックマーク
   - ⬜ 未購入: 白色の背景

### アイテムを編集する

1. **アイテムをダブルタップ**
   - 編集したいアイテムをダブルタップ

2. **情報を変更**
   - 商品名、数量、メモなどを修正

3. **「保存」をタップ**
   - 変更が保存されます

### アイテムを削除する

1. **アイテムを長押し**
   - 削除したいアイテムを長押し

2. **「削除」を選択**
   - コンテキストメニューから削除を選択

3. **確認ダイアログで「削除」をタップ**
   - アイテムがリストから削除されます

### 定期購入アイテムの設定

1. **アイテム編集画面を開く**
   - アイテムをダブルタップして編集画面へ

2. **「定期購入」をON**
   - 定期購入の切り替えスイッチをONにする

3. **購入間隔を設定**
   ```
   購入間隔: 例）7日間
   次回購入予定: 自動計算される
   ```

4. **「保存」をタップ**
   - 設定が保存され、自動的に期限が管理されます

### リストをクリアする

1. **メニューボタン（⋮）をタップ**
   - リスト画面右上のメニューボタンを選択

2. **「リストをクリア」を選択**
   - メニューからクリアオプションを選択

3. **確認ダイアログで「クリア」をタップ**
   - ⚠️ すべての購入済みアイテムが削除されます
   - ⚠️ 未購入アイテムは残ります

---

## ⚙️ 設定とカスタマイズ

### ユーザー名を変更する

1. **ホーム画面のユーザー名をタップ**
   - ホームタブのユーザー名表示部分をタップ

2. **新しい名前を入力**
   ```
   ユーザー名: 例）田中花子
   ```

3. **「保存」をタップ**
   - 新しい名前が設定されます

### データの同期について

Go Shopは自動的にデータを同期します：

- **インターネット接続時**: リアルタイムでクラウドと同期
- **オフライン時**: ローカルデータベース（Hive）に保存
- **オンライン復帰時**: 自動的にクラウドと同期

### シークレットモードについて

1. **シークレットモードボタンをタップ**
   - ホーム画面右上の目のアイコンをタップ

2. **認証が必要**
   - OFFにする場合はログインが必要です

3. **モードの確認**
   - 👁️ 通常モード: 全機能利用可能
   - 🚫 シークレットモード: ログインが必要

---

## 🔧 トラブルシューティング

### よくある問題と解決方法

#### アプリが起動しない

1. **アプリを完全に終了**
   - タスクマネージャーでアプリを完全に終了

2. **アプリを再起動**
   - 数秒待ってからアプリを再起動

3. **端末を再起動**
   - 問題が続く場合は端末を再起動

#### データが同期されない

1. **インターネット接続を確認**
   ```
   設定 → ネットワーク → 接続状況を確認
   ```

2. **アプリを再起動**
   - アプリを一度終了して再起動

3. **同期状態を確認**
   - ホーム画面の🧪ボタンから「ハイブリッド同期テスト」を実行

#### メンバーが追加できない

- **権限を確認**
  - オーナーまたは管理者権限が必要です
  - 現在の役割を確認してください

#### 買い物アイテムが消えた

1. **グループ選択を確認**
   - 正しいグループが選択されているか確認

2. **メンバーの削除を確認**
   - 他のメンバーが削除した可能性があります

3. **データ確認を実行**
   - テストページでデータの整合性を確認

### 開発者向けデバッグ機能

#### Hiveデータクリア（開発環境のみ）

1. **削除ボタンをタップ**
   - ホーム画面右上の🗑️ボタンをタップ

2. **確認ダイアログで「削除」**
   - ⚠️ 全てのローカルデータが削除されます

#### ハイブリッド同期テスト

1. **🧪ボタンをタップ**
   - ホーム画面右上のテストボタンをタップ

2. **各種テストを実行**
   - SharedGroup同期テスト
   - SharedList同期テスト
   - データ整合性チェック

---

## 📱 便利な使い方とコツ

### 効率的な買い物リスト作成

1. **カテゴリ別に整理**
   ```
   🥬 野菜・果物
   🥩 肉・魚類
   🥛 乳製品
   🧴 日用品
   ```

2. **定期購入を活用**
   - よく買う商品は定期購入設定で自動管理

3. **数量を明確に記載**
   ```
   良い例: 牛乳 1L、卵 1パック
   悪い例: 牛乳、卵
   ```

### 家族での活用シナリオ

#### 平日の買い物
1. **お母さん**: 家にある在庫を確認してリストを更新
2. **お父さん**: 仕事帰りにリストをチェックして買い物
3. **お子さん**: 欲しいお菓子をリストに追加

#### 週末の買い物
1. **家族会議**: 一週間分の買い物リストを作成
2. **役割分担**: 担当者ごとにカテゴリを分担
3. **効率的な買い物**: リストに沿って効率よく買い物

### グループ運用のベストプラクティス

1. **役割分担**
   - 管理者は複数人設定がおすすめ
   - 責任を分散して管理負荷を軽減

2. **定期的な整理**
   - 週に1回程度、不要なアイテムを削除
   - 購入済みアイテムのクリアを実行

3. **コミュニケーション**
   - 大きな買い物や高額商品は事前に相談
   - 特別な要望はメモ欄に詳細を記載

### ショートカット操作

| 操作 | 機能 |
|------|------|
| **タップ** | アイテムの購入状態切り替え |
| **ダブルタップ** | アイテムの詳細編集 |
| **長押し** | アイテム削除メニュー |
| **左右スワイプ** | 購入状態の切り替え（将来実装予定） |

---

## 💡 よくある質問（FAQ）

### Q: オフラインでも使用できますか？
**A:** はい。オフライン時もアプリは正常に動作し、オンライン復帰時に自動同期されます。

### Q: 何人までメンバーを追加できますか？
**A:** 現在、メンバー数に制限はありません。ただし、多すぎると管理が困難になる場合があります。

### Q: データは安全ですか？
**A:** はい。すべてのデータは暗号化されてFirebaseクラウドに保存されます。

### Q: 他の端末でも使用できますか？
**A:** 現在はWindows版のみ提供しています。Android/iOS版は今後開発予定です。

### Q: アカウントを削除したい場合は？
**A:** 現在、アカウント削除機能は実装されていません。データのクリアが必要な場合はサポートにお問い合わせください。

### Q: 購入履歴を確認できますか？
**A:** 現在は購入履歴機能は実装されていませんが、将来のアップデートで追加予定です。

### Q: バックアップは必要ですか？
**A:** データは自動的にクラウドに同期されるため、手動でのバックアップは不要です。

---

## 📞 サポート情報

### お問い合わせ
- **開発者**: 金ヶ江 真也 ファーティマ (Maya Fatima Kanagae)
- **メール**: fatima.sumomo@gmail.com
- **GitHubリポジトリ**: https://github.com/maya27AokiSawada/go_shop

### 問題報告時に必要な情報
以下の情報と共にお問い合わせください：

1. **発生した問題の詳細**
2. **問題が発生した操作手順**
3. **エラーメッセージ（表示された場合）**
4. **使用端末・OS情報**
5. **アプリのバージョン**

### バージョン情報
- **アプリバージョン**: 1.0.0
- **Flutter**: 3.35.5
- **対応OS**: Windows 10/11

---

## 🔄 アップデート情報

### Version 1.0.0 (Current)
- 初回リリース
- グループ管理機能
- 買い物リスト共有機能
- リアルタイム同期
- オフライン対応

### 今後の予定機能
- 📱 Android/iOS版の開発
- 📊 購入履歴・統計機能
- 🔔 プッシュ通知
- 📷 商品画像添付
- 🏷️ カテゴリ管理機能
- 💰 予算管理機能

---

*このガイドは Go Shop v1.0.0 対応版です。*
*最新の情報については、アプリ内の「アプリについて」も併せてご確認ください。*